<!--header-->
<section class="home-slider owl-carousel img" style="background-image: url(assets/img/he.jpeg); display: block; height: 350px;">
    <div class="container">
        <div class="row slider-text justify-content-center align-items-center">
            <div class="col-md-7 col-sm-12 text-center ftco-animate">
                <h1 class="mb-3 mt-5 bread">Book detail</h1>
            </div>
        </div>
    </div>
</section>
<!--/header-->

<!--message-->
<div *ngIf="showSuccessMessage" class="alert alert-success" role="alert" style="display: block;">Book added to library successfully!</div>
<div *ngIf="showErrorMessage" class="alert alert-success" role="alert" style="display: block;">Book already present in the library.</div> 
<!--/message-->

<!--book detail-->
<div class="container" *ngIf="bookDetails">
    <div class="card" *ngFor="let a of bookDetails.authors">
        <div class="card-body">
            <div class="row">
                <div class="col-lg-5 col-md-5 col-sm-6">
                    <div class="white-box text-center"><img [src]="bookDetails.img" class="img-responsive w-75"></div>
                </div>
                <div class="col-lg-7 col-md-7 col-sm-6">
                    <h4 class="box-title mt-5 text-center">{{ bookDetails.title }}</h4>
                    <div class="wrapper">
                        <div class="divider div-transparent div-dot"></div>
                    </div>
                    <p>{{ bookDetails.description }}</p>
                    <button type="button" class="btn btn-sm btn-outline-secondary btn-hover-blue" (click)="assignBookToUser(bookDetails.id)">Add</button>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <h3 class="box-title mt-5">General Info</h3>
                    <div class="table-responsive">
                        <table class="table table-striped table-product">
                            <tbody>
                                <tr>
                                    <td width="390">Author:</td>
                                    <td>{{ a.firstName }} {{ a.lastName }}</td>
                                </tr>
                                <tr>
                                    <td>Genre:</td>
                                    <td>{{ bookDetails.genre.genre }}</td>
                                </tr>
                                <tr>
                                    <td>Pages:</td>
                                    <td>{{ bookDetails.pages }}</td>
                                </tr>
                                <tr>
                                    <td>Publication Year:</td>
                                    <td>{{ bookDetails.publicationYear }}</td>
                                </tr>
                                <tr>
                                    <td>Publisher:</td>
                                    <td>{{ bookDetails.publisher }}</td>
                                </tr>
                                <tr>
                                    <td>Editor:</td>
                                    <td>{{ bookDetails.editor }}</td>
                                </tr>
                                <tr>
                                    <td>Feedback:</td>
                                    <td>{{ bookDetails.feedback.comment}} |  Stars: {{ bookDetails.feedback.rating}} |  Date pubblication: {{ bookDetails.feedback.publication }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--/book detail-->

<!--book recommended-->
<div class="container" style="margin-bottom: 30px;">
    <h4>You might also be interested in...</h4>
    <div class="container">
    <div class="row">
        <div class="col-md-4" *ngIf="loadRandomBooks">
            <div class="carbon-example flex-wrapper" *ngFor="let a of bookDetails.authors">
                <img [src]="bookDetails.img" alt="image">
                    <div class="d-flex">
                        <div class="vr" style="height: 185px; border-right: 1px solid black;"></div>
                    </div>
                <div class="inner-wrapper text-center" style="color: black;">
                    <p>{{ books[0].title }}</p>
                    <p class="text-muted d-block mb-2 small">{{ a.firstName }} {{ a.lastName }}</p>
                    <p class="text-muted d-block mb-2 small">{{ bookDetails.genre.genre }}</p>
                    <div class="wrapper">
                        <div class="divider div-transparent div-dot"></div>
                    </div>
                    <div class="btn-group">
                        <button type="button" class="btn btn-sm btn-outline-secondary btn-hover-blue" [routerLink]="['/books', bookDetails.id!]" routerLinkActive="active">View</button>
                        <button type="button" class="btn btn-sm btn-outline-secondary btn-hover-blue" (click)="assignBookToUser(bookDetails.id)">Add</button>
                    </div>
                </div>
            </div>
        </div>   
    </div>
    </div>
</div>
<!--/book recommended-->
